services:
  worldmonitor:
    build: .
    ports:
      - "3000:3000"
    environment:
      # AI Summarization
      - GROQ_API_KEY=${GROQ_API_KEY:-}
      - OPENROUTER_API_KEY=${OPENROUTER_API_KEY:-}
      - OLLAMA_API_URL=${OLLAMA_API_URL:-}
      - OLLAMA_MODEL=${OLLAMA_MODEL:-llama3.1:8b}
      
      # Cache (Optional)
      - UPSTASH_REDIS_REST_URL=${UPSTASH_REDIS_REST_URL:-}
      - UPSTASH_REDIS_REST_TOKEN=${UPSTASH_REDIS_REST_TOKEN:-}
      
      # Market Data
      - FINNHUB_API_KEY=${FINNHUB_API_KEY:-}
      - EIA_API_KEY=${EIA_API_KEY:-}
      - FRED_API_KEY=${FRED_API_KEY:-}
      
      # Geopolitical / Tracking
      - ACLED_ACCESS_TOKEN=${ACLED_ACCESS_TOKEN:-}
      - CLOUDFLARE_API_TOKEN=${CLOUDFLARE_API_TOKEN:-}
      - NASA_FIRMS_API_KEY=${NASA_FIRMS_API_KEY:-}
      - AISSTREAM_API_KEY=${AISSTREAM_API_KEY:-}
      
      # Relay Configuration
      - WS_RELAY_URL=${WS_RELAY_URL:-}
      - VITE_WS_RELAY_URL=${VITE_WS_RELAY_URL:-}
      
      # App Config
      - PORT=3000
      - NODE_ENV=production
    restart: unless-stopped
